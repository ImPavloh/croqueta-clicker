@if (optionsService.showCroquetita()) {
<div class="absolute bottom-3 left-[5px] z-100">
  <!-- croquetita :3 -->
  <button
    class="relative w-20 h-20 md:w-20 md:h-20 sm:w-[60px] sm:h-[60px] cursor-pointer flex items-center justify-center transition-all duration-300 ease-in-out hover:scale-105 will-change-transform"
    [class.croquetita-character]="true"
    (click)="toggleHelper()"
    [class.talking]="isOpen()"
    title="Haz click en Croquetita para recibir ayuda"
  >
    <img src="assets/croquetita/croquetita.webp" class="croquetita" alt="Croquetita" width="80" height="100" />
    @if (!isOpen()) {
    <span class="w-8 h-8 absolute -top-[15px] -right-[15px] croquetita-bubble-indicator">
      <img src="assets/icons/message.webp" class="w-full h-full object-contain" alt="Mensaje" width="32" height="32" />
    </span>
    }
  </button>

  @if (isOpen()) {
  <div
    class="absolute bottom-[100px] left-5 w-80 max-w-[90vw] border-[3px] border-[#f3eac2] rounded-[15px] p-[15px] transition-all duration-300 ease-in-out md:w-80 md:bottom-[100px] md:left-5 sm:w-[280px] sm:bottom-20 sm:left-0"
    [class.croquetita-dialog]="true"
    [class.animate]="isAnimating()"
  >
    <span
      (click)="closeSound()"
      class="absolute top-2 right-2.5 text-lg text-[#6b5633] cursor-pointer font-bold"
      >X</span
    >
    <div class="text-[#faf6e6] text-xl text-balance md:text-xl sm:text-[13px]">
      {{ currentMessage() }}
    </div>
  </div>
  }
</div>
}
