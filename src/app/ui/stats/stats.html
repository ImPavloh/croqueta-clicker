@if (mode() === 'mobile') {
<div class="w-full max-w-[500px] mx-auto p-2 relative z-155">
  <div class="flex flex-col gap-4 p-4">
    <div class="flex flex-col gap-3">
      <div class="level-badge flex items-center justify-center gap-3 px-5 py-3">
        <div class="flex items-center gap-2">
          <span class="text-xs font-bold text-white/90 uppercase tracking-widest">{{
            'clicker.level' | transloco
          }}</span>
          <div class="level-divider"></div>
          <span
            class="text-3xl font-black text-white leading-none level-number font-mono tabular-nums min-w-[4ch] text-center"
            >{{ level() | short }}</span
          >
        </div>
      </div>

      <div class="relative w-full exp-container">
        <div class="exp-bar-bg">
          <div class="exp-bar-fill" [style.width.%]="expProgress()">
            <div class="exp-bar-shine"></div>
            <div class="exp-bar-pulse"></div>
          </div>
          <div
            class="absolute inset-0 flex items-center justify-center gap-1.5 font-semibold pointer-events-none z-20 text-center px-2"
          >
            <span
              class="text-sm text-white drop-shadow-lg font-bold font-mono tabular-nums inline-block min-w-[6ch] text-center"
              >{{ currentExp() | short }}</span
            >
            <span class="text-xs text-white/80 font-medium">/</span>
            <span
              class="text-sm text-white drop-shadow-lg font-bold font-mono tabular-nums inline-block min-w-[6ch] text-center"
              >{{ expToNext() | short }}</span
            >
            <span class="text-xs text-white/80 uppercase tracking-widest ml-1 font-bold">XP</span>
          </div>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-2 gap-3">
      <div class="stat-card group">
        <div class="stat-icon-wrapper">
          <img src="assets/stats/clock.webp" [alt]="'clicker.time' | transloco" class="stat-icon" />
        </div>
        <div class="flex flex-col gap-1 flex-1 min-w-0">
          <span class="stat-label">{{ 'clicker.time' | transloco }}</span>
          <span class="stat-value font-mono tabular-nums inline-block min-w-[10ch]">{{
            formatTime(timePlaying())
          }}</span>
        </div>
      </div>

      <div class="stat-card group">
        <div class="stat-icon-wrapper">
          <img
            src="assets/stats/mouse.webp"
            [alt]="'clicker.clicks' | transloco"
            class="stat-icon"
          />
        </div>
        <div class="flex flex-col gap-1 flex-1 min-w-0">
          <span class="stat-label">{{ 'clicker.clicks' | transloco }}</span>
          <span class="stat-value font-mono tabular-nums inline-block min-w-[8ch]">{{
            totalClicks() | short
          }}</span>
        </div>
      </div>
    </div>

    @if (goldenCroquetaService.isBonusActive()) {
    <div class="bonus-inline">
      <div class="bonus-content">
        <span class="bonus-text"
          >{{ 'clicker.bonus' | transloco }} x{{ goldenCroquetaService.bonusMultiplier }}</span
        >
        <span class="bonus-time">{{ goldenCroquetaService.bonusTimeLeft() }}s</span>
      </div>
    </div>
    } @if (burntCroquetaService.isPenaltyActive()) {
    <div class="penalty-inline">
      <div class="bonus-content">
        <span class="penalty-text"
          >{{ 'clicker.penalty' | transloco }} x{{ burntCroquetaService.penaltyMultiplier }}</span
        >
        <span class="bonus-time">{{ burntCroquetaService.penaltyTimeLeft() }}s</span>
      </div>
    </div>
    }
  </div>
</div>
} @else {
<div class="ds-overlay">
  <div class="ds-card ds-left">
    <div class="ds-circle">
      <svg class="ds-ring" width="150" height="150">
        <circle
          class="ds-ring-bg"
          stroke="#e5e7eb50"
          stroke-width="10"
          fill="#0F101550"
          [attr.r]="radius"
          [attr.cx]="75"
          [attr.cy]="75"
        />
        <circle
          class="ds-ring-fg"
          [attr.stroke-dasharray]="circumference + ' ' + circumference"
          [style.stroke-dashoffset]="strokeDashoffset()"
          stroke="url(#dsGradient)"
          stroke-width="10"
          fill="transparent"
          stroke-linecap="round"
          [attr.r]="radius"
          [attr.cx]="75"
          [attr.cy]="75"
        />
        <defs>
          <linearGradient id="dsGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color: #f59e0b; stop-opacity: 1" />
            <stop offset="100%" style="stop-color: #f97316; stop-opacity: 1" />
          </linearGradient>
        </defs>
      </svg>
      <div class="ds-level">
        <div class="ds-level-number font-mono tabular-nums inline-block min-w-[4ch] text-center">
          {{ level() | short }}
        </div>
        <div class="ds-level-label">{{ 'clicker.level' | transloco }}</div>
        <div class="ds-exp font-mono tabular-nums">
          {{ currentExp() | short }} / {{ expToNext() | short }} XP
        </div>
      </div>
    </div>
  </div>

  <div class="ds-card ds-left-bottom">
    <div class="ds-right-inner">
      <div class="ds-stat">
        <div class="ds-icon">
          <img src="assets/stats/clock.webp" [alt]="'clicker.time' | transloco" />
        </div>
        <div class="ds-text">
          <div class="ds-label">{{ 'clicker.time' | transloco }}</div>
          <div class="ds-value font-mono tabular-nums inline-block min-w-[10ch]">
            {{ formatTime(timePlaying()) }}
          </div>
        </div>
      </div>

      <div class="ds-stat">
        <div class="ds-icon">
          <img src="assets/stats/mouse.webp" [alt]="'clicker.clicks' | transloco" />
        </div>
        <div class="ds-text">
          <div class="ds-label">{{ 'clicker.clicks' | transloco }}</div>
          <div class="ds-value font-mono tabular-nums inline-block min-w-[8ch]">
            {{ totalClicks() | short }}
          </div>
        </div>
      </div>
    </div>
    @if (goldenCroquetaService.isBonusActive()) {
    <div class="bonus-inline ds-bonus">
      <div class="bonus-content">
        <span class="bonus-text"
          >{{ 'clicker.bonus' | transloco }} x{{ goldenCroquetaService.bonusMultiplier }}</span
        >
        <span class="bonus-time">{{ goldenCroquetaService.bonusTimeLeft() }}s</span>
      </div>
    </div>
    } @if (burntCroquetaService.isPenaltyActive()) {
    <div class="penalty-inline ds-bonus">
      <div class="bonus-content">
        <span class="penalty-text"
          >{{ 'clicker.penalty' | transloco }} x{{ burntCroquetaService.penaltyMultiplier }}</span
        >
        <span class="bonus-time">{{ burntCroquetaService.penaltyTimeLeft() }}s</span>
      </div>
    </div>
    }
  </div>
</div>
}
