@if (modalService.currentModal()) {
<div class="modal-overlay" (click)="closeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>{{ getModalTitle() }}</h2>
      <button class="close-btn" (click)="closeModal()">✕</button>
    </div>
    <div class="modal-body">
      @switch (modalService.currentModal()) { @case ('upgrades') {
      <app-upgrades />
      } @case ('achievements') {
      <app-achievements />
      } @case ('skins') {
      <app-skins />
      } @case ('options') {
      <app-options />
      } @case ('debug') {
      <app-debug-menu />
      } }
    </div>
  </div>
</div>
}

<!-- diálogo de confirmación -->
@if (modalService.confirmDialog()) {
<div class="modal-overlay" (click)="closeConfirm()">
  <div class="confirm-dialog" (click)="$event.stopPropagation()">
    <div class="confirm-header">
      <h2>{{ modalService.confirmDialog()!.title }}</h2>
    </div>
    <div class="confirm-body">
      <p>{{ modalService.confirmDialog()!.message }}</p>
    </div>
    <div class="confirm-actions" [class.single-button]="!modalService.confirmDialog()!.cancelText">
      @if (modalService.confirmDialog()!.cancelText) {
      <app-button variant="primary" (click)="cancelAction()">
        {{ modalService.confirmDialog()!.cancelText }}
      </app-button>
      }
      <app-button variant="primary" (click)="confirmAction()">
        {{ modalService.confirmDialog()!.confirmText }}
      </app-button>
    </div>
  </div>
</div>
}
